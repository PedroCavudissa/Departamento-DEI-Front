<div class="container">
  <form class="form-search" (submit)="false">
    <select [(ngModel)]="anoSelecionado" name="anoSelecionado" class="form-control">
      <option [ngValue]="''">Selecionar Ano</option>
      <option [ngValue]="1">1º Ano</option>
      <option [ngValue]="2">2º Ano</option>
      <option [ngValue]="3">3º Ano</option>
      <option [ngValue]="4">4º Ano</option>
      <option [ngValue]="5">5º Ano</option>
    </select>

    <input [(ngModel)]="textoBusca" name="textoBusca" type="text" placeholder="Escreva aqui..." />
  </form>

  <table>
    <thead>
      <tr>
        <th>Sigla</th>
        <th>Nome</th>
        <th>Ano Acadêmico</th>
        <th>Semestre</th>
        <th>Precedências</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody *ngIf="disciplinasFiltradas.length > 0; else semDados">
      <tr *ngFor="let d of disciplinasFiltradas">
        <td>{{ d.sigla }}</td>
        <td>{{ d.nome }}</td>
        <td>{{ d.anoAcademico }}</td>
        <td>{{ d.semestre }}</td>
        <td>
          {{
            d.precedencia.length
              ? d.precedencia.split(',').join(', ')
              : 'Nenhuma'
          }}
        </td>
        <td>
          <button (click)="verDetalhes(d)" title="Ver Detalhes" class="btn-acao">
            <i class='bx bx-show'></i>
          </button>
        </td>
      </tr>
    </tbody>
    <ng-template #semDados>
      <tr>
        <td colspan="6">Nenhuma disciplina encontrada.</td>
      </tr>
    </ng-template>
  </table>

  <!-- MODAL -->
  <div class="modal" *ngIf="disciplinaSelecionada">
    <div class="modal-content">
      <span class="close" (click)="fecharModal()">&times;</span>
      <h3>Detalhes da Disciplina</h3>
      <p><strong>Sigla:</strong> {{ disciplinaSelecionada.sigla }}</p>
      <p><strong>Nome:</strong> {{ disciplinaSelecionada.nome }}</p>
      <p><strong>Ano Acadêmico:</strong> {{ disciplinaSelecionada.anoAcademico }}</p>
      <p><strong>Semestre:</strong> {{ disciplinaSelecionada.semestre }}</p>
      <p><strong>Precedências:</strong>
        {{
          disciplinaSelecionada.precedencia?.length
            ? disciplinaSelecionada.precedencia.split(',').join(', ')
            : 'Nenhuma'
        }}
      </p>
    </div>
  </div>
</div>
  <app-barralateral-secretaria></app-barralateral-secretaria>